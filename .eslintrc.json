{
  "env": {
    "commonjs": true,
    "es6": true,
    "node": true
  },
  "extends": [
    /*
     * Enable all rules:
     *   1. Majority of rules and default options are good
     *   2. eslint:recommended is only a small subset
     *   3. We automatically gain new rules when they are released
     */
    "eslint:all",

    // Disable rules that are unnecessary or in some cases conflict with Prettier
    "prettier"
  ],
  "plugins": ["import"],
  "parserOptions": {
    "ecmaVersion": 2018
  },
  "reportUnusedDisableDirectives": true,
  "rules": {
    // eslint:all - disable unwanted rules
    // Add others here as discovered, for guidance refer to https://github.com/robatwilliams/eslint-config-robatwilliams
    "capitalized-comments": "off",
    "class-methods-use-this": "off",
    "global-require": "off",
    "id-length": "off",
    "line-comment-position": "off",
    "multiline-comment-style": "off",
    "no-console": "off",
    "no-inline-comments": "off",
    "no-magic-numbers": "off",
    "no-process-env": "off",
    "no-ternary": "off",
    "no-undefined": "off",
    "one-var": "off",
    "sort-keys": "off",
    "strict": "off",

    // eslint:all - modify default options
    "eqeqeq": ["error", "always", { "null": "never" }],
    "func-names": ["error", "as-needed"],
    "func-style": ["error", "declaration"],
    "no-use-before-define": ["error", "nofunc"],
    "spaced-comment": ["error", "always", { "block": { "balanced": true } }],

    // eslint:all & prettier - re-enable some of the rules that are compatible when certain options are used
    //   (https://github.com/prettier/eslint-config-prettier#special-rules)
    "curly": "error",
    "max-len": ["error", { "code": 1000, "comments": 90, "ignoreUrls": true }],
    // "no-mixed-operators": "error", // incompatible
    "quotes": [
      "error",
      "single",
      { "avoidEscape": true, "allowTemplateLiterals": false }
    ],

    // eslint:all - rules whose default options do nothing. Options need to be compatible with Prettier.
    "padding-line-between-statements": [
      "error",
      { "blankLine": "always", "prev": "*", "next": ["cjs-export", "class", "return"] },

      { "blankLine": "always", "prev": "*", "next": "block-like" },
      { "blankLine": "always", "prev": "block-like", "next": "*" },

      { "blankLine": "always", "prev": "cjs-import", "next": "*" },
      { "blankLine": "any", "prev": "cjs-import", "next": "cjs-import" }
    ],

    // eslint-plugin-import
    "import/group-exports": "error",
    "import/no-extraneous-dependencies": "error",
    "import/no-unresolved": ["error", { "commonjs": true }],
    "import/order": ["error", { "newlines-between": "always" }]
  },
  "overrides": [
    {
      "files": ["./src/**/*"],
      "rules": {
        // Matters because serverless packaging does excludeDevDependencies
        "import/no-extraneous-dependencies": ["error", { "devDependencies": false }]
      }
    }
  ]
}
